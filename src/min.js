let canciones=[],count=0,counter=document.getElementById("counter");function generarCards(e){count=0;let n=document.getElementById("card-container");n.innerHTML="",e.forEach(e=>{count+=1;let t=document.createElement("div");t.classList.add("card","fade-in");let a=document.createElement("img");a.src=`${e.miniatura}`,t.appendChild(a);let r=document.createElement("h3");r.textContent=`${e.nombre}`,t.appendChild(r);let i=document.createElement("p");i.textContent=`${e.autor}`,t.appendChild(i);let o=document.createElement("p");o.classList.add("tonalidad"),o.textContent=`Tonalidad: ${e.tonalidad}`,t.appendChild(o),t.addEventListener("click",()=>{window.open(e.youtube_link,"_blank")}),n.appendChild(t)}),counter.innerHTML="ACTUALMENTE HAY "+count+" CANCIONES"}function cargarCanciones(){let e=new XMLHttpRequest;e.onreadystatechange=function(){4==this.readyState&&200==this.status&&((canciones=JSON.parse(this.responseText)).forEach(e=>{if(!e.miniatura){let n=String(e.youtube_link),t=n.substring(n.indexOf("=")+1,43);console.log(t),e.miniatura=`https://i3.ytimg.com/vi/${t}/maxresdefault.jpg`}}),generarCards(canciones))},e.open("GET","../src/songs.json",!0),e.send()}function buscarCanciones(){let e=document.getElementById("search-input").value.toLowerCase(),n=canciones.filter(n=>{let t=n.nombre.toLowerCase(),a=n.autor.toLowerCase(),r=n.tonalidad.toLowerCase();return t.includes(e)||a.includes(e)||r.includes(e)});if(generarCards(n),0===n.length){let t=document.getElementById("card-container");t.innerHTML="<p>No se encontraron canciones.</p>"}}window.addEventListener("load",()=>{cargarCanciones()});